{"ast":null,"code":"import _defineProperty from\"/Users/channappa/Downloads/AssanOne-vaibhav-dev copy/code/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"/Users/channappa/Downloads/AssanOne-vaibhav-dev copy/code/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/channappa/Downloads/AssanOne-vaibhav-dev copy/code/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from'axios';import Cookies from\"js-cookie\";import jwtDecode from'jwt-decode';// Get token from localstorage\nvar initialState={msg:\"default message\",isLoggedIn:false,loading:false,success:false,token:\"\",user:'',error:null};// Redux action to register a new user\nexport var registerUser=createAsyncThunk('user/register',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userData){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://localhost:8080/api/registerUser',userData);case 3:response=_context.sent;return _context.abrupt(\"return\",response.data);case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}());export var login=createAsyncThunk('user/login',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(userData){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post('http://localhost:8080/api/login',userData);case 3:response=_context2.sent;Cookies.set('token',response.data.token);return _context2.abrupt(\"return\",response.data);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());// Redux action to Logout\nexport var logout=createAsyncThunk('user/logout',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post('http://localhost:8080/api/logout');case 3:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);return _context3.abrupt(\"return\",_context3.t0);case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,7]]);})));var authSlice=createSlice({name:\"user\",initialState:initialState,reducers:{setIsLoggedIn:function setIsLoggedIn(state){state.isLoggedIn=true;},setUser:function setUser(state,action){state.user=action.payload;state.isLoggedIn=true;},reset:function reset(state){state.isLoggedIn=false;state.token='';}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,registerUser.pending,function(state,action){state.loading=true;}),_defineProperty(_extraReducers,registerUser.fulfilled,function(state,action){state.msg=\"Successfull\";state.loading=false;state.user=action.payload.user;}),_defineProperty(_extraReducers,registerUser.rejected,function(state,_ref4){var _ref4$payload=_ref4.payload,error=_ref4$payload.error,msg=_ref4$payload.msg;state.loading=false;if(error){state.error=error;}else state.msg=msg;}),_defineProperty(_extraReducers,login.pending,function(state,action){state.loading=true;}),_defineProperty(_extraReducers,login.fulfilled,function(state,action){state.msg=\"Logged in successfully\";state.loading=false;state.token=action.payload.token;state.isLoggedIn=action.payload.success;state.success=action.payload.success;}),_defineProperty(_extraReducers,login.rejected,function(state,_ref5){var _ref5$payload=_ref5.payload,error=_ref5$payload.error,msg=_ref5$payload.msg;state.loading=false;if(error){state.error=error;}else state.msg=msg;}),_defineProperty(_extraReducers,logout.pending,function(state,action){state.loading=true;}),_defineProperty(_extraReducers,logout.fulfilled,function(state,action){state.msg=\"logout Successfull\";state.loading=false;}),_defineProperty(_extraReducers,logout.rejected,function(state,_ref6){var _ref6$payload=_ref6.payload,error=_ref6$payload.error,msg=_ref6$payload.msg;state.loading=false;if(error){state.error=error;}else state.msg=msg;}),_extraReducers)});var _authSlice$actions=authSlice.actions,reset=_authSlice$actions.reset,setIsLoggedIn=_authSlice$actions.setIsLoggedIn,setUser=_authSlice$actions.setUser;export{reset,setIsLoggedIn,setUser};export default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","Cookies","jwtDecode","initialState","msg","isLoggedIn","loading","success","token","user","error","registerUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userData","response","wrap","_callee$","_context","prev","next","post","sent","abrupt","data","t0","stop","_x","apply","arguments","login","_ref2","_callee2","_callee2$","_context2","set","_x2","logout","_callee3","_callee3$","_context3","authSlice","name","reducers","setIsLoggedIn","state","setUser","action","payload","reset","extraReducers","_extraReducers","_defineProperty","pending","fulfilled","rejected","_ref4","_ref4$payload","_ref5","_ref5$payload","_ref6","_ref6$payload","_authSlice$actions","actions","reducer"],"sources":["/Users/channappa/Downloads/AssanOne-vaibhav-dev copy/code/src/redux/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from 'axios';\nimport Cookies from \"js-cookie\";\nimport jwtDecode from 'jwt-decode';\n\n// Get token from localstorage\n\nconst initialState = {\n    msg: \"default message\",\n    isLoggedIn: false,\n    loading: false,\n    success: false,\n    token: \"\",\n    user: '',\n    error: null\n}\n\n\n\n\n// Redux action to register a new user\nexport const registerUser = createAsyncThunk(\n  'user/register',\n  async (userData) => {\n    try {\n      const response = await axios.post('http://localhost:8080/api/registerUser', userData);\n      return response.data;\n    } catch (error) {\n      // Handle error and return it using rejectWithValue\n      return error;\n    }\n  }\n);\n\n\nexport const login = createAsyncThunk(\n  'user/login',\n  async (userData) => {\n    try {\n    \n      const response = await axios.post('http://localhost:8080/api/login', userData);\n      Cookies.set('token', response.data.token);\n      return response.data;\n    } catch (error) {\n      return error;\n    }\n  }\n)\n\n// Redux action to Logout\nexport const logout = createAsyncThunk(\n  'user/logout',\n   async () => {\n    try {\n      const response = await axios.post('http://localhost:8080/api/logout');\n      return response.data;\n      \n\n    } catch (error) {\n      // Handle error and return it using rejectWithValue\n      return error;\n    }\n  }\n);\n\n\n\nconst authSlice = createSlice({\n    name: \"user\",\n    initialState,\n\n    reducers : {\n        setIsLoggedIn: (state) => {\n          state.isLoggedIn = true;\n        },\n        setUser(state, action) {\n          state.user = action.payload;\n          state.isLoggedIn = true;\n        },\n        reset : (state) => {\n          state.isLoggedIn = false;\n          state.token = '';\n        }\n      \n    },\n    extraReducers: {\n        [registerUser.pending]: (state, action) => {\n            state.loading = true;\n        },\n        [registerUser.fulfilled]: (state, action) => {\n            state.msg = \"Successfull\"\n            state.loading = false\n            state.user = action.payload.user;\n         \n          \n        },\n        [registerUser.rejected]: (state, {payload: {error, msg}}) => {\n            state.loading = false;\n            if(error) {\n                state.error = error\n            }else state.msg = msg\n        },\n        [login.pending]: (state, action) => {\n            state.loading = true;\n        },\n        [login.fulfilled]: (state, action) => {\n            state.msg = \"Logged in successfully\";\n            state.loading = false;\n            state.token = action.payload.token;\n            state.isLoggedIn = action.payload.success;\n            state.success = action.payload.success;\n        },\n        [login.rejected]: (state, {payload: {error, msg}}) => {\n            state.loading = false;\n            if(error) {\n                state.error = error\n            }else state.msg = msg\n        },\n        [logout.pending]: (state, action) => {\n            state.loading = true;\n        },\n        [logout.fulfilled]: (state, action) => {\n            state.msg = \"logout Successfull\";\n            state.loading = false;\n           \n           \n\n        },\n        [logout.rejected]: (state, {payload: {error, msg}}) => {\n            state.loading = false;\n            if(error) {\n                state.error = error\n            }else state.msg = msg\n        },\n\n    }\n})\n\n\n\n\nexport const { reset, setIsLoggedIn, setUser } = authSlice.actions;\nexport default authSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}